<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<script type="text/javascript">
function loadTable() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState === 4 && this.status === 200) {
                var data = this.responseText;
                var jsonResponse = JSON.parse(data);
                console.log(jsonResponse);
                var table = document.getElementById('info-table');
                table.setAttribute('class', 'history');
                var properties = ['productName', 'price', 'amount','categoryName']; // changed this

                var tr = document.createElement('tr');

                table.appendChild(tr);
                var tr, row;
 for (var r = 0; r < jsonResponse.length; r++) { // changed this
                    tr = document.createElement('tr');
                    row = jsonResponse[r]; // changed this
                    for (var i = 0; i < properties.length; i++) {
                        var td = document.createElement('td');
                        td.appendChild(document.createTextNode(row[properties[i]]));
                        tr.appendChild(td);
                    }
                    table.appendChild(tr);


                }
            }
        };
        let url = "/api/all";
        //alert(url);

        xhttp.open("GET", url, false);
        xhttp.send();
    }
</script>
<style>th {
           height: 70px;
           font-size: 20px;
           background: #478ad0;
       }
       table, th, td {
           border: 1px solid black;

       }
       table {
           width: 90%;
           height: 70%;
           margin-left: auto;
           margin-right: auto;
       }

       table{
           margin-top: 30px;
       }</style>
</head>
<body onload="loadTable()">
    <div>
     <table class="table table-striped" id="info-table">
         <thead>
         <tr>
             <th>hi</th>
             <th>hello</th>
             <th>meh</th>
             <th>meh2</th>
         </tr>
         </thead>
         <tbody>
         </tbody>
     </table>
    </div>

</body>
</html>